//
// This file was generated by the Eclipse Implementation of JAXB, v4.0.5 
// See https://eclipse-ee4j.github.io/jaxb-ri 
// Any modifications to this file will be lost upon recompilation of the source schema. 
//


package com.aixm.delorean.core.schema.school;

import jakarta.xml.bind.JAXBException;
import jakarta.xml.bind.annotation.adapters.XmlAdapter;

import javax.xml.parsers.ParserConfigurationException;

import org.locationtech.jts.geom.Coordinate;
import org.locationtech.jts.geom.GeometryFactory;
import org.locationtech.jts.geom.Point;

import com.aixm.delorean.core.schema.school.org.gml.DirectPositionType;
import com.aixm.delorean.core.schema.school.org.gml.PointType;

public class Adapter1
    extends XmlAdapter<PointType, Point>
{
    private static final GeometryFactory geometryFactory = new GeometryFactory();

    public Point unmarshal(PointType value) throws JAXBException {

        System.out.println("Adapter1 unmarshal");

        DirectPositionType pos = value.getPos();
        double x = pos.getValue().get(0);
        double y = pos.getValue().get(1);

        return geometryFactory.createPoint(new Coordinate(x, y));
    }

    public PointType marshal(Point value) throws JAXBException, ParserConfigurationException {

        System.out.println("Adapter1 unmarshal");

        DirectPositionType pos = new DirectPositionType();
        pos.getValue().add(value.getX());
        pos.getValue().add(value.getY());
        if (value.getSRID() != 0) {
            pos.setSrsName("EPSG:" + value.getSRID());
        }

        PointType pointType = new PointType();
        pointType.setPos(pos);

        return pointType;
    }

}
